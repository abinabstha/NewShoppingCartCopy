{% extends 'base.html' %}

{% block head %}

{% endblock %}

{% block body %}
<div class="content">
    <h1 style="text-align: center">Shopping Cart</h1>
    <table>
        <tr>
            <th>ID</th>
            <th>Item Name</th>
            <th>Cost</th>
            <th>Current Quantity</th>
            <th>Add</th>
            <th>Delete</th>
        </tr>
        {% for cartitem in cartitems %}
        <tr>
            <td>{{ cartitem.id }}</td>
            <td>{{ cartitem.name }}</td>
            <td>${{ cartitem.cost }}</td>
            <td>{{ cartitem.quantity }}</td>
            <td>
                <form action="/add/{{cartitem.id}}" method="POST">
                    <input type="number" name="quantity">
                    <input type="submit" value="Add">
                </form>
            </td>
            <td><a href="/delete/{{cartitem.id}}">Delete</a></td>
        </tr>
        {% endfor %}
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td>Total Quantity: {{ total_quantity }}</td>
            <td></td>
            <td></td>
        </tr>
    </table>
    <h1 style="text-align: center">Order Summary</h1>
    <table>
        <tr>
            <th>Subtotal excluding delivery</th>
            <td>${{ total_cost }}</td>
        </tr>
        <tr>
            <th>Shipping</th>
            <td>${{ shipping_cost }}</td>
        </tr>
        <tr>
            <th>Subtotal excluding taxes</th>
            <td>${{ total_prehst }}</td>
        </tr>
        <tr>
            <th>HST</th>
            <td>${{ hst }}</td>
        </tr>
        <tr>
            <th>Total</th>
            <td>${{ total }}</td>
        </tr>
    </table>
</div>
{% endblock %}